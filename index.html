<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBS E-Banking Login</title>
    <style>
        /* --- Branding Variables --- */
        :root {
            --ubs-red: #E60000;
            --background-color: #f7f7f7;
            --main-text-color: #333;
            --gray-text: #666;
            --border-color: #ddd;
        }

        /* --- Global Styles & Reset --- */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--main-text-color);
        }

        a {
            text-decoration: none;
            color: var(--link-color);
        }

        /* --- HEADER STYLES (Provided HTML) --- */
        .UWR_Header_container_jekRB {
            background-color: white;
            padding: 10px 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #ubsLogo svg {
            width: 84px;
            height: 31px;
            margin-right: 10px;
        }
        .UWR_Header_title_2yTrz {
            font-size: 1.2rem;
            font-weight: bold;
            flex-grow: 1;
        }
        .UWR_Header_interactive-container_5AR2Q {
            display: flex;
            align-items: center;
            font-size: 0.85rem;
        }
        /* End of essential Header Styles */

        /* --- LOGIN CARD LAYOUT --- */
        .main-content {
            display: flex;
            justify-content: center;
            padding: 40px 15px;
        }

        .login-card {
            background-color: white;
            padding: 40px 30px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px; 
            box-sizing: border-box;
            text-align: center; 
        }

        .greeting {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 5px;
        }
        .login-subtitle {
            font-size: 0.95rem;
            color: var(--gray-text);
            margin-bottom: 30px;
        }

        /* --- FORM ELEMENTS --- */
        .input-group {
            position: relative;
            margin-bottom: 25px;
        }
        .input-group input {
            width: 100%;
            padding: 12px 10px;
            border: 1px solid var(--border-color);
            border-radius: 3px;
            box-sizing: border-box;
            font-size: 1rem;
            outline: none;
        }
        .input-info-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            line-height: 18px;
            text-align: center;
            border-radius: 9px;
            color: #fff;
            background-color: var(--gray-text);
            font-style: normal;
            font-size: 0.7rem;
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            font-size: 0.9rem;
            justify-content: flex-start; 
        }
        .checkbox-group input[type="checkbox"] {
            margin-right: 8px;
            width: 18px;
            height: 18px;
        }

        .main-button {
            width: 100%;
            padding: 14px;
            background-color: var(--main-text-color); 
            color: white;
            border: none;
            border-radius: 3px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
        }
        .main-button:hover {
            background-color: #555;
        }

        .how-to-login {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: var(--ubs-red);
            font-size: 0.9rem;
            font-weight: bold;
        }
        .how-to-login svg {
            margin-right: 5px;
            vertical-align: middle;
            fill: var(--ubs-red);
        }

        .error-message {
            color: var(--ubs-red);
            margin-top: 10px;
            font-size: 0.9rem;
            text-align: center;
            display: none; /* Hidden by default */
        }
        
        /* --- FOOTER STYLES --- */
        .footer {
            margin-top: 50px;
            padding: 20px;
            font-size: 0.8rem;
            color: var(--gray-text);
            text-align: center;
        }
        .footer-links a {
            color: var(--main-text-color);
            margin: 0 10px;
            font-weight: bold;
            display: inline-block;
        }
        .footer-text {
            margin-top: 15px;
            line-height: 1.4;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            text-align: left;
        }

    </style>
</head>
<body>

    <header>
        <div class="UWR_Header_container_jekRB header_headerContainer__nSPpQ">
            <div id="ubsLogo">
                <a href="" aria-label="UBS" data-testid="ubsLogoTest">
                    <svg viewBox="0 0 84 31" xmlns="http://www.w3.org/2000/svg" focusable="false" class="UWR_Header_logo-container_sturM header_logoSize__LABPF"><path d="M48.935 18.357c0 6.144-3.359 6.881-6.718 6.881-5.775 0-7.004-2.949-7.004-7.168V6.172h-2.13V5.025h8.07v1.147h-2.294v11.55c0 4.075 1.065 6.103 3.993 6.103 2.99 0 4.444-1.475 4.444-5.714V6.171h-2.15V5.026h5.734v1.147h-1.945v12.185zm5.488 5.509V6.172h-2.089V5.025h8.95c3.81 0 5.693 2.15 5.693 4.669 0 2.683-2.437 4.198-4.608 4.649 4.22.389 5.366 3.092 5.366 5.079 0 4.055-3.461 5.59-6.86 5.59H52.19v-1.146h2.232zm8.909-13.947c0-1.863-.963-3.747-3.072-3.747h-2.273v7.68h2.027c2.232 0 3.318-1.885 3.318-3.933zm.717 9.503c0-2.663-1.147-4.444-3.83-4.444h-2.232v8.888h1.802c2.847 0 4.26-1.68 4.26-4.444zM76.664 5.905c-2.11 0-3.46 1.25-3.46 3.42 0 1.966 2.129 2.908 4.197 3.605 1.23.43 2.786 1.003 3.85 2.027 1.168 1.106 1.803 2.58 1.762 4.444-.082 3.482-2.52 5.837-6.82 5.858-1.618 0-4.137-.37-5.652-1.25l-.164-5.243h1.27c.102 3.523 1.76 5.366 4.669 5.366 2.335 0 3.625-1.556 3.625-3.932 0-2.048-1.7-2.929-4.28-3.789-.84-.286-2.499-.9-3.666-2.048-1.045-1.044-1.536-2.355-1.536-3.747 0-4.076 2.908-5.837 6.512-5.837 1.434 0 3.584.512 4.834 1.229l.122 4.546h-1.27c-.266-3.236-1.679-4.649-3.993-4.649z" fill="#E60000"></path><path d="M23.112 9.07l-.534.444.563 1.839-1.69-.92-.563.446 1.868 1.008-1.987 1.6-.534-.71.712-.564-.534-.623-.711.564-.534-.682.712-.564-.534-.682-3.647 3.025 3.469 2.787.623-.77c.444.029.77.355.948.77l-.622.771.385.296c.86-.77 1.987-1.274 3.143-1.274 2.432 0 4.33 1.986 4.33 4.418 0 .8-.208 1.66-.653 2.372l.653.504c-.03.475-.475.979-.92 1.097l-.622-.504a4.536 4.536 0 01-3.173 1.275c-2.432 0-4.33-1.927-4.33-4.388 0-.8.238-1.631.594-2.313l-.356-.326-.623.83a1.104 1.104 0 01-.949-.83l.623-.742-2.936-2.431v3.854l.979.03a.955.955 0 01.208.593c0 .208-.09.445-.179.623h-1.008v.474c2.135.356 3.915 2.165 3.915 4.36 0 2.283-1.75 4.091-3.915 4.447v.771a1.523 1.523 0 01-.711.208 1.89 1.89 0 01-.801-.208v-.77c-2.165-.357-3.855-2.165-3.855-4.449 0-2.194 1.69-4.003 3.855-4.33v-.503h-1.008a1.166 1.166 0 01-.178-.623c0-.237.06-.445.178-.623h1.008v-3.854l-2.965 2.431.652.742c-.148.474-.534.77-.978.83l-.623-.83-.386.326c.416.682.623 1.512.623 2.313 0 2.46-1.898 4.388-4.33 4.388-1.156 0-2.312-.444-3.142-1.275l-.653.504c-.415-.118-.86-.622-.919-1.097l.623-.504c-.386-.712-.623-1.572-.623-2.372 0-2.432 1.898-4.418 4.33-4.418 1.185 0 2.312.504 3.172 1.274l.356-.266-.623-.8c.149-.416.534-.713.979-.772l.623.771 3.469-2.787-3.647 3.025-.534.682.712.564-.534.682-.712-.564-.534.623.682.563-.563-.653-.711-.622.534-.623.711.534.504-.623-1.542-1.216c.149-.504.475-.919.95-1.215l8.213 6.701V7.201h-.83v.86h-.83v-.86h-.86v.86h-.86v-2.52l1.957.83V5.66l-1.81-.742 1.81-.711v-.682l-1.957.77v-2.55h.86v.92h.86v-.92h.83v.92h.83V.648c.237-.089.504-.148.771-.148.237 0 .504.06.741.148V11.68l8.214-6.701c.445.296.771.711.95 1.215L22.873 7.41l.534.623.712-.534.534.623-.712.622.534.653.711-.564.534.653-1.987 1.601-.622-2.016zM6.328 21.198c0 .711.534 1.156 1.157 1.216l-1.038.8c-.712-.267-1.364-1.127-1.364-1.868 0-.237.06-.385.118-.563-.089 0-.148.03-.207.03-.95 0-1.75-.89-1.928-1.81l1.068-.83c-.03.119-.03.208-.03.297 0 .593.564 1.126 1.157 1.126.622 0 1.215-.533 1.215-1.156 0-.771-.593-1.275-1.334-1.275-1.453 0-2.876 1.394-2.876 3.232 0 .534.118 1.038.356 1.483l.652-.504c.445.207.8.652.92 1.156l-.653.504c.623.534 1.394.771 2.194.771 1.66 0 2.995-1.334 2.995-2.52 0-.682-.474-1.275-1.186-1.275-.652 0-1.216.504-1.216 1.186zm8.807 2.55c0 .652.534 1.186 1.157 1.186.444 0 .622-.178.948-.445v1.335a2.05 2.05 0 01-1.008.266c-.711 0-1.304-.207-1.69-.83-.415.623-1.008.83-1.72.83-.326 0-.682-.088-1.008-.266v-1.335c.297.297.534.445.949.445.652 0 1.156-.534 1.156-1.186 0-.623-.415-1.186-1.097-1.186-1.216 0-1.72 1.156-1.72 2.224 0 1.571 1.157 2.906 2.669 3.173v-.801c.237-.119.504-.148.741-.148.267 0 .534.03.771.148v.8c1.394-.207 2.67-1.69 2.67-3.172 0-1.098-.446-2.224-1.72-2.224-.653 0-1.098.563-1.098 1.186zm7.384-5.308c0 .593.622 1.156 1.245 1.156.593 0 1.157-.533 1.157-1.126 0-.09-.03-.178-.03-.297l1.038.83c-.178 1.009-1.068 1.898-2.106 1.78.06.178.09.326.09.563 0 .741-.653 1.601-1.365 1.868l-1.038-.8c.653-.06 1.187-.505 1.187-1.216 0-.682-.594-1.186-1.246-1.186-.682 0-1.186.593-1.186 1.304 0 .86 1.038 2.491 3.025 2.491.8 0 1.571-.237 2.164-.77l-.652-.505c.148-.504.445-.949.92-1.156l.651.504a3.15 3.15 0 00.386-1.483c0-1.423-1.097-3.232-2.847-3.232-.741 0-1.393.504-1.393 1.275z"></path></svg>
                </a>
            </div>
            <div class="UWR_Header_title_2yTrz">
                <span data-testid="eBanking">E-Banking</span>
            </div>
            <div class="UWR_Header_interactive-container_5AR2Q header_headerTray__4KF8W">
                <div class="header_displayFlex__Yg3jL">
                    <span aria-label="location" class="header_location__wnQJF" data-testid="location"> Switzerland</span>
                    <div class="UWR_Dropdown_dropdown-wrapper_2puFW UWR_DropdownButton_dropdown-container_vPtjb">
                        <div class="UWR_PopoverItems_container_jV6sV" id="dropdown-button-container">
                            <span class="UWR_AutoPlacerReference_block_7CzQs UWR_PopoverItems_popover-ref_2NTvS">
                                <div>
                                    <button aria-label="Language selection English selected" aria-expanded="false" aria-activedescendant="" id="dropdown-button-button" role="combobox" aria-haspopup="listbox" class="UWR_Button_button_hLSgm UWR_Button_medium_vxszU UWR_Button_muted_epbvT UWR_Dropdown_dropdown-button_eLEvS" type="button"><span class="UWR_Button_children_5TXBR UWR_Dropdown_children_xhiHm"><span id="dropdown-button-label" aria-hidden="true" class="UWR_Dropdown_label_gkd45">languageSelect</span><span class="UWR_Dropdown_value_kXwqn"><span class="UWR_Dropdown_value-icon_3NU3U"><svg enable-background="new 0 0 16 16" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" focusable="false"><path d="m8.832.043c-.028-.002-.057-.003-.085-.005-.246-.023-.495-.038-.747-.038s-.501.015-.747.038c-.028.002-.057.003-.085.005-4.027.417-7.168 3.82-7.168 7.957s3.141 7.54 7.168 7.957c.012.012.025.023.038.035.016-.01.032-.019.047-.029.246.022.495.037.747.037s.501-.015.747-.038c.016.011.032.019.047.029.013-.012.025-.023.038-.035 4.027-.416 7.168-3.819 7.168-7.956s-3.141-7.54-7.168-7.957zm5.469 4.957h-2.677c-.355-1.4-.945-2.67-1.719-3.73 1.947.552 3.536 1.935 4.396 3.73zm-6.713-3.979c.137-.008.273-.021.412-.021s.275.013.412.021c.988 1.034 1.753 2.407 2.187 3.979h-5.198c.434-1.572 1.199-2.945 2.187-3.979zm3.412 6.979c0 .688-.062 1.356-.176 2h-5.648c-.114-.644-.176-1.312-.176-2s.062-1.356.176-2h5.647c.115.644.177 1.312.177 2zm-4.905-6.73c-.774 1.06-1.364 2.33-1.719 3.73h-2.677c.86-1.795 2.449-3.178 4.396-3.73zm-4.785 4.73h2.855c-.106.646-.165 1.314-.165 2s.059 1.354.165 2h-2.855c-.191-.636-.31-1.303-.31-2s.119-1.364.31-2zm.389 5h2.677c.355 1.4.945 2.67 1.719 3.73-1.947-.552-3.536-1.935-4.396-3.73zm6.713 3.979c-.137.008-.273.021-.412.021s-.275-.013-.412-.021c-.988-1.034-1.753-2.407-2.187-3.979h5.198c-.434 1.572-1.199 2.945-2.187 3.979zm1.493-.249c.774-1.06 1.364-2.33 1.719-3.73h2.677c-.86 1.795-2.449 3.178-4.396 3.73zm4.785-4.73h-2.855c.106-.646.165-1.314.165-2s-.059-1.354-.165-2h2.855c.191.636.31 1.303.31 2s-.119 1.364-.31 2z" fill="currentColor"></path></svg></span><p class="dropdown_selectedValueContainer__xZBEs">English</p></span><svg height="12" viewBox="0 0 12 12" width="12" xmlns="http://www.w3.org/2000/svg" focusable="false" class="UWR_Dropdown_arrow-icon_ndjJL dropdown_iconContainer__-9ib5"><path d="m6 7.59 4.29-4.3.71.71-5 5-5-5 .71-.71z" fill="currentColor"></path></svg></span></button></div></span></div></div></div></div>
    </header>

    <div class="main-content">
        <div id="login-app-container" class="login-card">
            </div>
    </div>

    <footer class="footer">
        <div class="footer-links">
            <a href="#">Information on UBS</a>
            <a href="#">Terms of use</a>
            <a href="#">Privacy statement</a>
        </div>
        <a href="#" style="color: #666; font-weight: bold; margin-top: 10px; display: block;">Report fraudulent mail</a>
        <div class="footer-text">
            The products, services, information and/or materials contained within these web pages may not be available for residents of certain jurisdictions. Please consult the sales restrictions relating to the products or services in question for
        </div>
    </footer>

    <script>
        // --- Configuration ---
        const CORRECT_CONTRACT_NUMBER = "6238969297";
        const CORRECT_SECURITY_CODE = "9847712007";
        const APP_CONTAINER = document.getElementById('login-app-container');
        const BASE_URL = "/workbench/WorkbenchOpenAction.do?login";

        /**
         * Simulates setting the URL path.
         * @param {string} page - The current page/step identifier.
         */
        function updateUrl(page) {
            let newPath = BASE_URL;
            if (page === 'security') {
                newPath += '&&dnc=2436163&step=security';
            } else if (page === 'success') {
                newPath = '/loggedin/home';
            } else {
                newPath += '&&dnc=2436163';
            }
            history.pushState({ page: page }, '', newPath);
        }

        // ----------------------------------------------------------------------
        // Step 1: Contract Number Login Page
        // ----------------------------------------------------------------------

        function renderLoginStep() {
            updateUrl('login');
            APP_CONTAINER.innerHTML = `
                <h1 class="greeting">Good evening</h1>
                <p class="login-subtitle">Login UBS E-Banking</p>

                <form id="contract-form">
                    <div class="input-group">
                        <input type="text" id="contract-number" placeholder="Contract number" autocomplete="off" value="" aria-label="Contract number">
                        <i class="input-info-icon" title="Your personal contract number">i</i>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Remember me</label>
                    </div>

                    <button type="submit" class="main-button">Continue</button>
                    <p id="error-message-1" class="error-message">
                        Invalid contract number. Please check your entry.
                    </p>
                    <a href="#" class="how-to-login">
                        <svg height="12" viewBox="0 0 16 16" width="12" xmlns="http://www.w3.org/2000/svg" focusable="false"><path d="m8.5 13.921 5-5-1.414-1.414L8 11.503V3h-2v8.503L3.914 8.507l-1.414 1.414 5 5z" fill="currentColor"></path></svg>
                        How to log in
                    </a>
                </form>
            `;

            document.getElementById('contract-form').addEventListener('submit', handleContractSubmit);
            document.getElementById('contract-number').focus(); // Focus for usability
        }

        function handleContractSubmit(event) {
            event.preventDefault();
            const input = document.getElementById('contract-number').value.trim();
            const errorMessage = document.getElementById('error-message-1');
            
            errorMessage.style.display = 'none';

            if (input === CORRECT_CONTRACT_NUMBER) {
                renderSecurityCodeStep();
            } else {
                errorMessage.style.display = 'block';
            }
        }

        // ----------------------------------------------------------------------
        // Step 2: Security Code Page
        // ----------------------------------------------------------------------

        function renderSecurityCodeStep() {
            updateUrl('security');
            APP_CONTAINER.innerHTML = `
                <h1 class="greeting">Good evening</h1>
                <p class="login-subtitle">Login UBS E-Banking</p>

                <form id="security-code-form">
                    <p style="text-align: left; font-size: 0.9rem; color: ${getComputedStyle(document.documentElement).getPropertyValue('--main-text-color')}">
                        Please enter the security code shown in your **Access App** for contract **${CORRECT_CONTRACT_NUMBER}**.
                    </p>

                    <div class="input-group" style="margin-top: 20px;">
                        <input type="password" id="security-code" placeholder="Enter Secret code" autocomplete="off" aria-label="Security code">
                        <i class="input-info-icon" title="The eight-figure code generated by your security device.">i</i>
                    </div>

                    <button type="submit" class="main-button">Continue</button>
                    <p id="error-message-2" class="error-message">
                        The security code is incorrect. Please check your entry.
                    </p>
                    <a href="#" onclick="renderLoginStep(); return false;" class="how-to-login" style="margin-top: 20px;">
                         &lsaquo; Back to Contract Number
                    </a>
                </form>
            `;

            document.getElementById('security-code-form').addEventListener('submit', handleSecurityCodeSubmit);
            document.getElementById('security-code').focus(); // Focus for usability
        }

        function handleSecurityCodeSubmit(event) {
            event.preventDefault();
            const input = document.getElementById('security-code').value.trim();
            const errorMessage = document.getElementById('error-message-2');
            
            errorMessage.style.display = 'none';

            if (input === CORRECT_SECURITY_CODE) {
                renderSuccessPage();
            } else {
                errorMessage.style.display = 'block';
            }
        }
        
        // ----------------------------------------------------------------------
        // Step 3: Success Page (Simulation)
        // ----------------------------------------------------------------------

        function renderSuccessPage() {
            updateUrl('success');
            APP_CONTAINER.innerHTML = `
                <h1 class="greeting" style="font-weight: 500;">Welcome, User!</h1>
                <p class="login-subtitle" style="color: green; font-weight: bold;">Login Successful</p>
                <p style="margin-top: 30px; font-size: 1.1rem;">
                    You have successfully logged in to UBS E-Banking.
                </p>
                <button onclick="window.location.reload();" class="main-button" style="margin-top: 40px; background-color: ${getComputedStyle(document.documentElement).getPropertyValue('--ubs-red')}">
                    Continue to Dashboard
                </button>
            `;
            // Note: window.location.reload() is used here to simulate a full page redirect/logout link.
        }

        // --- Initialization ---

        function initializeApp() {
            const urlPath = window.location.pathname + window.location.search;

            if (urlPath.includes('step=security')) {
                renderSecurityCodeStep();
            } else if (urlPath.includes('/loggedin/home')) {
                renderSuccessPage();
            } else {
                renderLoginStep();
            }
        }

        // Handle browser back/forward buttons
        window.addEventListener('popstate', initializeApp);

        // Initial application load
        initializeApp();
    </script>

</body>
</html>
